function GetTagUrl(){return GetUrl("Tag")}function SaveTag(b,c){var d=$("#"+c).data("kendoComboBox");d.dataSource.filter([]);d.text(d.text().trim());if(d.text().length==0){d.select(0)}var a="Create";var e=GetTagData(b,c);if(e!=null){var f=GetTagUrl()+a;Nutcache.Ajax.TryAjaxCall({url:f,contentType:"application/json; charset=utf-8",type:"POST",data:JSON.stringify(e),dataType:"json",success:function(g){SaveTagSuccess(g,c)},error:ManageAjaxError})}}function SaveTagSuccess(c,b){if(c.IsSaved){var a=$("#"+b).data("kendoComboBox");a.dataSource.read()}}function GetTagData(a,b){var d=null;var c=$("#"+b).data("kendoComboBox");if(c.selectedIndex!=0){d={Category:a,Value:c.text().trim()}}return d}function DeleteTag(c,b){var a="Delete";var d=GetTagUrl()+a;Nutcache.Ajax.TryAjaxCall({url:d,contentType:"application/json; charset=utf-8",type:"POST",data:JSON.stringify({id:c}),dataType:"json",success:function(e){DeleteTagSuccess(e,c,b)},error:ManageAjaxError})}function DeleteTagSuccess(c,j,b){var a=$("#"+b).data("kendoComboBox");var f=a.dataSource;var g=f.data();var d=-1;for(var h=0;h<g.length;h++){if(g[h].ID==j){d=h}}if(d>-1){if(d==a.selectedIndex){a.dataSource.filter([]);a.select(0)}var e=f.at(d);a.dataSource.remove(e);a.refresh()}};